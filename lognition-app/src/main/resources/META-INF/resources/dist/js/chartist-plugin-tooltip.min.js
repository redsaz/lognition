/* chartist-plugin-tooltip 0.0.18
 * Copyright Â© 2018 Markus Padourek
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(e,o){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["chartist"],function(t){return e["Chartist.plugins.tooltip"]=o(t)}):"object"==typeof module&&module.exports?module.exports=o(require("chartist")):e["Chartist.plugins.tooltip"]=o(e.Chartist)}(this,function(t){return function(l,v,y){"use strict";var t={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point"};function o(t){var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}function x(t,e){return-1<(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")}y.plugins=y.plugins||{},y.plugins.tooltip=function(m){return m=y.extend({},t,m),function(f){var t=m.pointClass;f instanceof y.Bar?t="ct-bar":f instanceof y.Pie&&(t=f.options.donut?"ct-slice-donut":"ct-slice-pie");var c=f.container,u=c.querySelector(".chartist-tooltip")||v.querySelector(".chartist-tooltip");u||((u=v.createElement("div")).className=m.class?"chartist-tooltip "+m.class:"chartist-tooltip",m.appendToBody?v.body.appendChild(u):c.appendChild(u));var d=u.offsetHeight,g=u.offsetWidth;function e(t,e,o){c.addEventListener(t,function(t){e&&!x(t.target,e)||o(t)})}function h(t){d=d||u.offsetHeight;var e,o,n=-(g=g||u.offsetWidth)/2+m.tooltipOffset.x,i=-d+m.tooltipOffset.y;if(m.appendToBody)u.style.top=t.pageY+i+"px",u.style.left=t.pageX+n+"px";else{var a=c.getBoundingClientRect(),r=t.pageX-a.left-l.pageXOffset,s=t.pageY-a.top-l.pageYOffset;!0===m.anchorToPoint&&t.target.x2&&t.target.y2&&(e=parseInt(t.target.x2.baseVal.value),o=parseInt(t.target.y2.baseVal.value)),u.style.top=(o||s)+i+"px",u.style.left=(e||r)+n+"px"}}o(u),e("mouseover",t,function(t){var e,o,n=t.target,i="",a=(f instanceof y.Pie?n:n.parentNode)?n.parentNode.getAttribute("ct:meta")||n.parentNode.getAttribute("ct:series-name"):"",r=n.getAttribute("ct:meta")||a||"",s=!!r,c=n.getAttribute("ct:value");if(m.transformTooltipTextFnc&&"function"==typeof m.transformTooltipTextFnc&&(c=m.transformTooltipTextFnc(c)),m.tooltipFnc&&"function"==typeof m.tooltipFnc)i=m.tooltipFnc(r,c);else{if(m.metaIsHTML){var l=v.createElement("textarea");l.innerHTML=r,r=l.value}if(r='<span class="chartist-tooltip-meta">'+r+"</span>",s)i+=r+"<br>";else if(f instanceof y.Pie){var p=function(t,e){for(;t=t.nextSibling,t&&!x(t,e););return t}(n,"ct-label");p&&(i+=((e=p).innerText||e.textContent)+"<br>")}c&&(m.currency&&(c=null!=m.currencyFormatCallback?m.currencyFormatCallback(c,m):m.currency+c.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),i+=c='<span class="chartist-tooltip-value">'+c+"</span>")}i&&(u.innerHTML=i,d=u.offsetHeight,g=u.offsetWidth,h(t),x(o=u,"tooltip-show")||(o.className=o.className+" tooltip-show"),d=u.offsetHeight,g=u.offsetWidth)}),e("mouseout",t,function(){o(u)}),e("mousemove",null,function(t){!1===m.anchorToPoint&&h(t)})}}}(window,document,t),t.plugins.tooltip});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map